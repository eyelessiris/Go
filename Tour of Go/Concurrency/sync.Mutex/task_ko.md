# sync.Mutex

고루틴 사이의 통신에 채널이 유용하다는 점을 살펴보았습니다.

하지만 통신이 필요하지 않을 경우에는 어떻게 해야 할까요? 만약 단순히 변수를 한 번에 하나의 고루틴만 접근할 수 있도록 하여 충돌을 피하고자 한다면요?

이 개념은 _상호 배제_라고 하며, 이를 제공하는 데이터 구조의 일반적인 이름이 _뮤텍스(mutex)_입니다.

Go 표준 라이브러리는 [`sync.Mutex`](https://go.dev/pkg/sync/#Mutex)와 두 가지 메서드를 통해 상호 배제를 제공합니다:

- `Lock`
- `Unlock`

`Inc` 메서드에서처럼 `Lock`과 `Unlock` 호출로 코드를 감싸면 상호 배제 상태에서 실행되도록 정의할 수 있습니다.

또한, `Value` 메서드에서처럼 `defer`를 사용하여 뮤텍스가 반드시 해제되도록 보장할 수도 있습니다.